platform: linux

image_resource:
  type: docker-image
  source: { repository: gradle, tag: 7.3.0-jdk17 }

# Cache the Gradle repository directory
# todo check it actually helps or find a proper way
caches:
  - path: $HOME/.gradle

inputs:
  - name: code

run:
  path: bash
  args:
    - -exc
    - |
      cd code
      gradle test
